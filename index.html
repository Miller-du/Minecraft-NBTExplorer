<!DOCTYPE html>
<html lang="en-US">

<head>

<title>Dovetail</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="theme-color" content="#445985">
<link rel="manifest" href="./manifest.webmanifest">
<link rel="icon" type="image/png" sizes="16x16" href="./resources/icon-16.png">
<link rel="icon" type="image/png" sizes="32x32" href="./resources/icon-32.png">

<link rel="stylesheet" href="./styles.css">

</head>

<body>

<header>
  <img height="32" draggable="false" src="./resources/app-512.png">
  <button onclick="fileOpener.click();">Open</button>
  <input id="fileOpener" type="file" accept="application/octet-stream, application/gzip, .nbt, .dat">
  <button id="saver" disabled>Save</button>
  <button id="formatOpener" disabled>Format Options...</button>
</header>

<textarea id="editor" disabled placeholder="NBT data will show here..." wrap="off" spellcheck="false" autocomplete="off" autocapitalize="none" autocorrect="off"></textarea>

<dialog id="formatDialog">
  <form id="formatForm" method="dialog">
    <dialog-header>
      <h3>Format Options</h3>
      <button type="submit" aria-label="Close">âœ•</button>
    </dialog-header>

    <fieldset>
      <legend>Root Name</legend>

      <label>
        <input type="text" name="name" placeholder="&lt;empty&gt;">
      </label>
      <label>
        <input type="checkbox" name="disableName" onchange="this.form.elements.name.disabled = this.checked;">
        Disable
      </label>
    </fieldset>

    <fieldset>
      <legend>Endian</legend>

      <label>
        <input type="radio" name="endian" value="big">
        Big
      </label>
      <label>
        <input type="radio" name="endian" value="little">
        Little
      </label>
    </fieldset>

    <fieldset>
      <legend>Compression</legend>

      <label>
        <input type="radio" name="compression" value="none">
        None
      </label>
      <label>
        <input type="radio" name="compression" value="gzip">
        gzip
      </label>
      <label>
        <input type="radio" name="compression" value="deflate">
        zlib
      </label>
    </fieldset>

    <fieldset>
      <legend>Bedrock Level</legend>

      <label>
        <input type="number" name="bedrockLevel" placeholder="&lt;false&gt;" min="0" max="4294967295" list="bedrockLevelVersion">
        <code>(Uint32)</code>
        <datalist id="bedrockLevelVersion">
          <option value="8">(Most common)</option>
        </datalist>
      </label>
    </fieldset>
  </form>
</dialog>

<script async src="https://cdn.jsdelivr.net/npm/es-module-shims@1.7.0/dist/es-module-shims.js"></script>

<script type="importmap">
  {
    "imports": {
      "@stardazed/streams-compression": "https://cdn.jsdelivr.net/npm/@stardazed/streams-compression@1.0.0/+esm",
      "nbtify": "https://cdn.jsdelivr.net/npm/nbtify@1.20.1/dist/index.js"
    }
  }
</script>

<script type="module" src="./dist/app.js"></script>

</body>

</html>